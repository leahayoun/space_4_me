<%# app/views/appointments/_form.html.erb %>

<%= simple_form_for(@appointment) do |f| %>
  <%= f.input :title,
              label: "Titre",
              placeholder: "Titre du rendez-vous",
              required: true,
              input_html: { class: "form-input" } %>

  <!-- ============ Date field ============ -->
  <%= f.input :date,
              as: :date,
              html5: true,
              label: "Date",
              required: true,
              input_html: { class: "form-input" } %>

  <!-- ============ Heure de début ============ -->
  <%= f.input :start_time,
              as: :time,
              html5: true,
              label: "Heure de début (optionnel)",
              required: false,
              input_html: {
                class: "form-input",
                step: 300  # options de 5 minutes
              } %>

  <%= f.input :event_type,
              label: "Type",
              collection: ["Médical", "Personnel", "Travail", "Autre"],
              include_blank: "Choisir un type",
              required: false,
              input_html: { class: "form-input" } %>

  <%= f.input :address,
              label: "Adresse",
              placeholder: "123 Rue de Paris, 75001 Paris",
              required: false,
              input_html: { class: "form-input" } %>

  <%= f.input :content,
              as: :text,
              label: "Notes",
              placeholder: "Ajoutez des notes...",
              rows: 4,
              input_html: { class: "form-input" } %>

  <div class="form-actions">
    <% if @appointment.persisted? %>
      <%= f.button :submit, "Mettre à jour", class: "btn btn-submit" %>
    <% else %>
      <%= f.button :submit, "Créer", class: "btn btn-submit" %>
    <% end %>
    <%= link_to "Annuler", appointments_path, class: "btn btn-ghost" %>
  </div>
<% end %>
